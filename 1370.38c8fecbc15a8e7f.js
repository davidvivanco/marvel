"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1370],{1370:(me,C,a)=>{a.r(C),a.d(C,{HomePageModule:()=>ge});var d=a(4755),l=a(712),u=a(5030),M=a(9485),b=a(7270),m=a(8879);const Z=[{label:"Captain America",name:"Captain A",icon:"captain-america"},{label:"Spiderman",name:"Spider",icon:"captain-america"},{label:"Ironman",name:"Iron M",icon:"captain-america"},{label:"Black Widow",name:"Black W",icon:"captain-america"},{label:"Thor",name:"Thor",icon:"captain-america"},{label:"Hulk",name:"Hulk",icon:"captain-america"},{label:"Wolverine",name:"Wolverine",icon:"captain-america"}];var e=a(3020),g=a(3144),x=a(4004),v=a(2923);let S=(()=>{class n{constructor(t,o){this.store=t,this.http=o,this.publicKey="cc1952a474bd6ba08844d7255330d469",this.baseUrl="https://gateway.marvel.com/v1/public"}getCharacters(t,o,r){let s={};this.store.updateState({...o,loading:!0}),t&&(s=(new g.LE).append("nameStartsWith",t)),r&&(s=(new g.LE).append("limit",r)),this.http.get(`${this.baseUrl}/characters?ts=1686170367275&hash=3d2452b91a40255c0d2c16ae7e8dcd08`,{params:s}).pipe((0,x.U)(h=>{var p;return(null==h||null===(p=h.data)||void 0===p?void 0:p.results)||[]})).subscribe(h=>{this.store.updateState({...o,characters:h})})}getCharactersObs(t,o,r){let s={};return console.log("foo1",t),this.store.updateState({...o,loading:!0}),t&&(s=(new g.LE).append("nameStartsWith",t)),r&&t&&(s=(new g.LE).append("nameStartsWith",t).append("limit",r)),r&&!t&&(s=(new g.LE).append("limit",r)),this.http.get(`${this.baseUrl}/characters?ts=1686170367275&hash=3d2452b91a40255c0d2c16ae7e8dcd08`,{params:s}).pipe((0,x.U)(h=>{var p;return(null==h||null===(p=h.data)||void 0===p?void 0:p.results)||[]}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(v.d),e.LFG(g.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var w=a(727);function O(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",7),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().index,s=e.oxw(2);return e.KtG(s.toggleActiveHeroe(r))}),e._UZ(1,"img",8),e.TgZ(2,"div",9),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.ekj("active",(null==t?null:t.id)===(null==o.state||null==o.state.characterSelected?null:o.state.characterSelected.id)),e.Q6J("src",t.thumbnail.path+"."+t.thumbnail.extension,e.LSH),e.xp6(1),e.ekj("active",(null==t?null:t.id)===(null==o.state||null==o.state.characterSelected?null:o.state.characterSelected.id)),e.xp6(1),e.hij(" ",t.name," ")}}function T(n,i){1&n&&e.YNc(0,O,4,6,"ng-template",6)}function I(n,i){if(1&n&&(e.TgZ(0,"swiper",4),e.YNc(1,T,1,0,null,5),e.qZA()),2&n){const t=e.oxw();e.Q6J("config",t.config),e.xp6(1),e.Q6J("ngForOf",t.heroes)}}let J=(()=>{class n{constructor(t){this.store=t,this.config={spaceBetween:10,slidesPerView:3.4,navigation:!1,pagination:{clickable:!1,enabled:!1},scrollbar:{draggable:!0,enabled:!1}},this.subs=new w.w0,this.onSeeMore=new e.vpe,this.ontoggleActiveHeroe=new e.vpe}ngOnInit(){this.subs.add(this.store.getState().subscribe(t=>{this.state=t}))}ngOnDestroy(){this.subs.unsubscribe()}seeMore(){this.onSeeMore.emit(!0)}toggleActiveHeroe(t){this.ontoggleActiveHeroe.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-swiper-modal"]],inputs:{heroes:"heroes"},outputs:{onSeeMore:"onSeeMore",ontoggleActiveHeroe:"ontoggleActiveHeroe"},decls:5,vars:1,consts:[[1,"ion-padding"],[3,"config",4,"ngIf"],[1,"ion-justify-content-center","ion-margin-top"],["expand","block","shape","round","color","primary",2,"width","80%",3,"click"],[3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"thumbnail-wrapper","flex","fd-col","jc-c",3,"click"],["width","99","height","99","alt","Silhouette of mountains",1,"thumbnail",3,"src"],[1,"title","t-center","uppercase"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,I,2,2,"swiper",1),e.TgZ(2,"ion-row",2)(3,"ion-button",3),e.NdJ("click",function(){return o.seeMore()}),e._uU(4," VER M\xc1S "),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",null==o.heroes?null:o.heroes.length))},dependencies:[d.sg,d.O5,M.nF,M.YC,l.YG,l.W2,l.Nd],styles:["ion-content[_ngcontent-%COMP%]{height:100vh;--border-radius: 30px}ion-content[_ngcontent-%COMP%]   .thumbnail[_ngcontent-%COMP%]{border-radius:15px}ion-content[_ngcontent-%COMP%]   .thumbnail-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-top:5px;font-size:.6rem}ion-content[_ngcontent-%COMP%]   .thumbnail-wrapper[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:700;opacity:1}ion-content[_ngcontent-%COMP%]   .thumbnail.active[_ngcontent-%COMP%]{border:1.5px solid var(--ion-color-primary)}"]}),n})();var k=a(8505);class F extends w.w0{constructor(i,t){super()}schedule(i,t=0){return this}}const _={setInterval(n,i,...t){const{delegate:o}=_;return null!=o&&o.setInterval?o.setInterval(n,i,...t):setInterval(n,i,...t)},clearInterval(n){const{delegate:i}=_;return((null==i?void 0:i.clearInterval)||clearInterval)(n)},delegate:void 0};var N=a(8737);const A={now:()=>(A.delegate||Date).now(),delegate:void 0};class f{constructor(i,t=f.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,o){return new this.schedulerActionCtor(this,i).schedule(o,t)}}f.now=A.now;const y=new class Q extends f{constructor(i,t=f.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,o){for(;i=t.shift();)i.unsubscribe();throw o}}}(class U extends F{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var o;if(this.closed)return this;this.state=i;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(s,this.id,t),this}requestAsyncId(i,t,o=0){return _.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&_.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(i,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let r,o=!1;try{this.work(i)}catch(s){o=!0,r=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(o,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}),Y=y;var E=a(7272),H=a(5698),j=a(4482),z=a(5403),L=a(5032),B=a(9718),W=a(5577),V=a(8421);function P(n,i){return i?t=>(0,E.z)(i.pipe((0,H.q)(1),function G(){return(0,j.e)((n,i)=>{n.subscribe((0,z.x)(i,L.Z))})}()),t.pipe(P(n))):(0,W.z)((t,o)=>(0,V.Xf)(n(t,o)).pipe((0,H.q)(1),(0,B.h)(t)))}var $=a(9751),D=a(3532);var q=a(3900);function ee(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.characterSelected(s))}),e._UZ(1,"img",11),e.TgZ(2,"div",12),e._uU(3),e.qZA()()}if(2&n){const t=i.$implicit,o=i.index;e.xp6(1),e.Q6J("alt",null==t?null:t.name)("src",(null==t||null==t.thumbnail?null:t.thumbnail.path)+"."+(null==t||null==t.thumbnail?null:t.thumbnail.extension),e.LSH),e.xp6(1),e.ekj("active",16===o),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function te(n,i){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,ee,4,5,"div",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.heroes)}}function ne(n,i){1&n&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.TgZ(2,"div",15),e._uU(3,"There are no coincidences "),e.qZA()())}function oe(n,i){1&n&&e._UZ(0,"ion-spinner",16)}let ie=(()=>{class n{constructor(t,o,r){this.formBuilder=t,this.api=o,this.store=r,this.subs=new w.w0,this.formGroup=this.formBuilder.group({search:[]}),this.state=this.store.getStateValue(),this.subs.add(this.formGroup.valueChanges.pipe((0,k.b)(()=>this.store.updateState({...this.state,loading:!0})),function X(n,i=y){const t=function R(n=0,i,t=Y){let o=-1;return null!=i&&((0,D.K)(i)?t=i:o=i),new $.y(r=>{let s=function K(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=o?this.schedule(void 0,o):r.complete())},s)})}(n,i);return P(()=>t)}(500),(0,q.w)(s=>this.api.getCharactersObs(s.search,this.state))).subscribe(s=>{this.store.updateState({...this.state,characters:s,loading:!1})})),this.subs.add(this.store.getState().subscribe(s=>{this.state=s}))}ngOnDestroy(){this.subs.unsubscribe()}characterSelected(t){this.store.updateState({...this.state,characterSelected:t,closeFullyOpenModal:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.qu),e.Y36(S),e.Y36(v.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-see-more-modal"]],inputs:{heroes:"heroes"},decls:9,vars:4,consts:[[1,"ion-padding","ion-no-border"],[1,"ion-padding"],[3,"formGroup"],["formControlName","search",1,"custom-searchbar"],["searchInput",""],["class","three-columns-grid ion-margin-top ion-margin-bottom",4,"ngIf"],["class","not-found flex fd-col jc-c ai-c",4,"ngIf"],["color","primary",4,"ngIf"],[1,"three-columns-grid","ion-margin-top","ion-margin-bottom"],["class","flex fd-col jc-c",3,"click",4,"ngFor","ngForOf"],[1,"flex","fd-col","jc-c",3,"click"],["width","99","height","99",3,"alt","src"],[1,"title","t-center","uppercase"],[1,"not-found","flex","fd-col","jc-c","ai-c"],["src","./assets/images/hulk.svg","alt",""],[1,"uppercase","flex","jc-c","ion-margin-top","bold"],["color","primary"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"form",2),e._UZ(3,"ion-searchbar",3,4),e.qZA()()(),e.TgZ(5,"ion-content",1),e.YNc(6,te,2,1,"div",5),e.YNc(7,ne,4,0,"div",6),e.YNc(8,oe,1,0,"ion-spinner",7),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(4),e.Q6J("ngIf",(null==o.heroes?null:o.heroes.length)>0),e.xp6(1),e.Q6J("ngIf",!o.state.loading&&0===(null==o.heroes?null:o.heroes.length)),e.xp6(1),e.Q6J("ngIf",null==o.state?null:o.state.loading))},dependencies:[d.sg,d.O5,u._Y,u.JJ,u.JL,u.sg,u.u,l.W2,l.Gu,l.VI,l.PQ,l.sr,l.j9],styles:["ion-content[_ngcontent-%COMP%]{height:100vh;--border-radius: 30px;overflow-y:scroll}ion-content[_ngcontent-%COMP%]   .three-columns-grid[_ngcontent-%COMP%]{display:grid;grid-auto-rows:1fr;grid-template-columns:1fr 1fr 1fr}form[_ngcontent-%COMP%]{width:100%}ion-toolbar[_ngcontent-%COMP%]{--background: white;--border-width: 0}.not-found[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:24px}"]}),n})();const re=["modal"];function se(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ion-row",2),e.NdJ("click",function(){const s=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.getCharacters(s.name))}),e.TgZ(1,"ion-col",22),e._UZ(2,"img",23),e.qZA(),e.TgZ(3,"ion-col",24),e._uU(4),e.qZA()()}if(2&n){const t=i.$implicit;e.xp6(2),e.Q6J("src","./assets/icon/"+t.icon+".svg",e.LSH),e.xp6(2),e.hij(" ",t.label," ")}}function ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"app-swiper-modal",27),e.NdJ("onSeeMore",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.seeMore())})("ontoggleActiveHeroe",function(r){e.CHM(t);const s=e.oxw(2);return e.KtG(s.toggleActiveHeroe(r))}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("heroes",t.heroes)}}function le(n,i){if(1&n&&e._UZ(0,"app-see-more-modal",28),2&n){const t=e.oxw(2);e.Q6J("heroes",t.heroes)}}function ce(n,i){if(1&n&&(e.YNc(0,ae,1,1,"app-swiper-modal",25),e.YNc(1,le,1,1,"app-see-more-modal",26)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.seeMoreActive),e.xp6(1),e.Q6J("ngIf",t.seeMoreActive)}}function he(n,i){1&n&&e._UZ(0,"ion-spinner",29)}const ue=function(){return[.1,.4]};m.ZP.use([m.W_,m.tl,m.LW,m.s5]);const de=[{path:"",component:(()=>{class n{constructor(t,o,r){this.cdr=t,this.api=o,this.store=r,this.menuConfig=Z,this.state=this.store.getStateValue(),this.modalOpen=!0,this.getCharacters(this.menuConfig[0].name),this.store.getState().subscribe(s=>{var c;this.state=s,this.heroes=s.characters,s.closeFullyOpenModal&&this.seeLess(),(null===(c=this.heroes)||void 0===c?void 0:c.length)>0&&(this.heroeActive=this.state.characterSelected||this.heroes[0])})}closeMenu(){this.modalOpen=!this.modalOpen,this.seeMoreActive=!1}seeMore(){this.store.updateState({...this.state,characters:[]}),this.modal.breakpoints=[1],this.modal.setCurrentBreakpoint(1),this.getCharacters(null,null,!0)}seeLess(){this.store.updateState({...this.state,closeFullyOpenModal:!1}),this.modal.breakpoints=[.1,.4],this.modal.setCurrentBreakpoint(.4),this.seeMoreActive=!1}toggleActiveHeroe(t){this.heroeActive=this.heroes[t],this.store.updateState({...this.state,characterSelected:this.heroeActive}),this.cdr.detectChanges()}getCharacters(t,o,r=!1){this.seeMoreActive=r,this.modalOpen=!0,this.store.updateState({...this.state,characterSelected:null}),this.api.getCharacters(t,this.state)}onMenuClose(){this.modalOpen=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(S),e.Y36(v.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,o){if(1&t&&e.Gf(re,5),2&t){let r;e.iGM(r=e.CRH())&&(o.modal=r.first)}},decls:27,vars:11,consts:[["type","push","content-id","main-content",3,"ionWillClose"],["scroll","false",1,"ion-padding"],[3,"click"],["size","large","name","close"],[1,"ion-margin-top","ion-justify-content-center","ion-align-items-center"],[3,"click",4,"ngFor","ngForOf"],["id","main-content",1,"main-content",3,"fullscreen"],["size","large","color","light","name","menu-outline",1,"hamburger",3,"click"],[1,"ion-justify-content-center","ion-margin-top"],["width","130","height","52","xmlns","http://www.w3.org/2000/svg","aria-hidden","true"],["fill","#EC1D24","width","100%","height","100%"],["fill","#FEFEFE","d","M126.222 40.059v7.906H111.58V4h7.885v36.059h6.757zm-62.564-14.5c-.61.294-1.248.44-1.87.442v-14.14h.04c.622-.005 5.264.184 5.264 6.993 0 3.559-1.58 5.804-3.434 6.705zM40.55 34.24l2.183-18.799 2.265 18.799H40.55zm69.655-22.215V4.007H87.879l-3.675 26.779-3.63-26.78h-8.052l.901 7.15c-.928-1.832-4.224-7.15-11.48-7.15-.047-.002-8.06 0-8.06 0l-.031 39.032-5.868-39.031-10.545-.005-6.072 40.44.002-40.435H21.278L17.64 26.724 14.096 4.006H4v43.966h7.95V26.78l3.618 21.192h4.226l3.565-21.192v21.192h15.327l.928-6.762h6.17l.927 6.762 15.047.008h.01v-.008h.02V33.702l1.845-.27 3.817 14.55h7.784l-.002-.01h.022l-5.011-17.048c2.538-1.88 5.406-6.644 4.643-11.203v-.002C74.894 19.777 79.615 48 79.615 48l9.256-.027 6.327-39.85v39.85h15.007v-7.908h-7.124v-10.08h7.124v-8.03h-7.124v-9.931h7.124z"],["fill","#EC1D24","d","M0 0h30v52H0z"],["fill","#FEFEFE","d","M31.5 48V4H21.291l-3.64 22.735L14.102 4H4v44h8V26.792L15.577 48h4.229l3.568-21.208V48z"],[1,"img-active"],["alt","",3,"src"],[1,"text-white","ion-padding"],[1,"fs32","flex","jc-c","ai-c","t-center","uppercase"],[1,"ion-margin-top","t-center",2,"opacity","0.8",3,"innerHTML"],["cssClass","home-modal","backdropDismiss","false",3,"isOpen","backdropBreakpoint","initialBreakpoint","breakpoints"],["modal",""],["color","primary",4,"ngIf"],["size","2"],["width","40","height","40","alt","Silhouette of a person's head",3,"src"],[1,"text-white","fs22","uppercase"],[3,"heroes","onSeeMore","ontoggleActiveHeroe",4,"ngIf"],[3,"heroes",4,"ngIf"],[3,"heroes","onSeeMore","ontoggleActiveHeroe"],[3,"heroes"],["color","primary"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-menu",0),e.NdJ("ionWillClose",function(){return o.onMenuClose()}),e.TgZ(1,"ion-content",1)(2,"ion-menu-toggle")(3,"ion-button",2),e.NdJ("click",function(){return o.closeMenu()}),e._UZ(4,"ion-icon",3),e.qZA()(),e.TgZ(5,"div",4)(6,"ion-menu-toggle"),e.YNc(7,se,5,2,"ion-row",5),e.qZA()()()(),e.TgZ(8,"ion-content",6)(9,"ion-menu-toggle")(10,"ion-icon",7),e.NdJ("click",function(){return o.modalOpen=!o.modalOpen}),e.qZA()(),e.TgZ(11,"ion-row",8),e.O4$(),e.TgZ(12,"svg",9),e._UZ(13,"rect",10)(14,"path",11)(15,"path",12)(16,"path",13),e.qZA()(),e.kcU(),e.TgZ(17,"ion-row",14),e._UZ(18,"img",15),e.TgZ(19,"ion-col",16)(20,"div",17),e._uU(21),e.qZA(),e._UZ(22,"div",18),e.qZA()(),e.TgZ(23,"ion-modal",19,20),e.YNc(25,ce,2,2,"ng-template"),e.qZA()(),e.YNc(26,he,1,0,"ion-spinner",21)),2&t&&(e.xp6(7),e.Q6J("ngForOf",o.menuConfig),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("src",(null==o.heroeActive?null:o.heroeActive.thumbnail.path)+"."+(null==o.heroeActive?null:o.heroeActive.thumbnail.extension),e.LSH),e.xp6(3),e.hij(" ",null==o.heroeActive?null:o.heroeActive.name," "),e.xp6(1),e.Q6J("innerHTML",null==o.heroeActive?null:o.heroeActive.description,e.oJD),e.xp6(1),e.Q6J("isOpen",o.modalOpen)("backdropBreakpoint",.6)("initialBreakpoint",.4)("breakpoints",e.DdM(10,ue)),e.xp6(3),e.Q6J("ngIf",o.state.loading))},dependencies:[d.sg,d.O5,l.YG,l.wI,l.W2,l.gu,l.z0,l.zc,l.Nd,l.PQ,l.ki,J,ie],styles:[".main-content[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: black}ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-primary)}.hamburger[_ngcontent-%COMP%]{position:absolute;right:15px;top:10px}.img-active[_ngcontent-%COMP%]{padding:32px}ion-modal[_ngcontent-%COMP%]{--border-radius: 30px;overflow-y:scroll}"]}),n})()}];let pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[b.Bz.forChild(de),b.Bz]}),n})(),ge=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,u.u5,u.UX,M.kz,l.Pc,pe]}),n})()}}]);